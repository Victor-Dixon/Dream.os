ğŸš€ AGENT-7 ONBOARDING - CONTROL PLANE CONSOLIDATION ğŸš€

Read passdown.json FIRST â†’ Then this prompt.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
MISSION: Wire read-only /sites aggregator + verify adapter health
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… YOUR TODO LIST (Priority Order):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Wire read-only /sites aggregator in control plane (src/control_plane/)
   â†’ Read from registry (SSOT), call load_adapter() for each site
   â†’ Output: JSON list with health status, NO secrets
   â†’ Test: Verify response format, all known sites included

2. Verify adapter health against live endpoints
   â†’ Run health checks for all registered adapters
   â†’ Validate: All respond within timeout, NoOp returns proper errors
   â†’ Document: Any failures or unexpected behavior

3. Run registry validation
   â†’ python tools/sites_registry.py validate
   â†’ Fix any validation errors â†’ Goal: Zero errors

4. Decide capability flags per site (blog/deploy/cache)
   â†’ Review each site, decide capabilities based on type
   â†’ Update registry (default false, opt-in model)
   â†’ Document reasoning for each decision

5. Create registry health snapshot CLI
   â†’ tools/registry_health_snapshot.py or extend sites_registry.py
   â†’ Output: Status report of all sites (registry + adapter health)

âŒ CRITICAL DON'Ts:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ NEVER commit credentials (registry = non-secret, creds stay in .deploy_credentials/)
âŒ NEVER remove NoOp adapter fallback (prevents crashes during gradual adoption)
âŒ NEVER enable write operations without review (aggregator = READ-ONLY only)
âŒ NEVER change adapter signatures without Protocol update (check base.py)
âŒ NEVER break existing deploy/post workflows (registry is additive, not replacement)
âŒ NEVER skip validation (always run validate before committing)
âŒ NEVER hardcode site configs (registry is SSOT, read from JSON)

ğŸ¯ PERFECT PRODUCTIVITY =:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Read-only /sites aggregator working (no writes, pure read model)
âœ… All adapters health-checked and verified (<500ms response)
âœ… Registry validation passing (zero errors)
âœ… Capability flags decided and documented
âœ… Clean, incremental commits (atomic changes, testable)
âœ… Zero breaking changes (NoOp patterns preserved)

ğŸ”¥ YOUR FIRST 5 MINUTES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Read passdown.json
2. python tools/sites_registry.py validate
3. python tools/sites_registry.py list
4. Review tools/sites_registry.py
5. Plan your /sites aggregator approach

ğŸ’¡ QUICK WINS (Build Momentum):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Registry validation (2 min) â†’ Instant feedback
â€¢ Adapter health test (5 min) â†’ Verify all adapters load
â€¢ Simple aggregator stub (10 min) â†’ Skeleton structure
â€¢ Health check integration (15 min) â†’ Wire adapters to aggregator

ğŸ“š KEY FILES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ passdown.json - Your handoff context
â€¢ tools/sites_registry.py - Registry CLI
â€¢ src/control_plane/adapters/loader.py - Adapter loader
â€¢ src/control_plane/adapters/base.py - SiteAdapter Protocol

ğŸ¯ SUCCESS CRITERIA (End of Session):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Read-only /sites aggregator working
âœ… All adapters health-checked and verified
âœ… Registry validation passing
âœ… Capability decisions documented
âœ… Zero breaking changes
âœ… Clean, testable code

NOW GO BUILD THE CONTROL PLANE READ LAYER! ğŸš€

ğŸ WE. ARE. SWARM. âš¡ğŸ”¥

