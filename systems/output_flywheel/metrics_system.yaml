# Output Flywheel Metrics System Configuration
# Version 1.0
# Agent-5 (Business Intelligence Specialist)

version: "1.0"
last_updated: "2025-12-01"
system_name: "Output Flywheel Metrics & Analytics"

# Core Metrics to Track
core_metrics:
  artifacts_per_week:
    description: "Total number of artifacts created per week"
    unit: "count"
    target: 2  # Minimum artifacts per week (from shipping rhythm)
    aggregation: "sum"
    tracking_frequency: "weekly"
    categories:
      - repo_artifacts
      - narrative_artifacts
      - bonus_artifacts
    
  repos_with_clean_readmes:
    description: "Number of repositories with clean, professional README files"
    unit: "count"
    target: "increasing"  # Should grow over time
    aggregation: "count"
    tracking_frequency: "weekly"
    criteria:
      - has_readme: true
      - readme_quality: "professional"
      - has_description: true
      - has_usage_examples: true
      - has_installation: true
  
  trading_days_documented:
    description: "Number of trading days with documented journal entries"
    unit: "count"
    target: "all_trading_days"  # Document all trading days
    aggregation: "count"
    tracking_frequency: "daily"
    criteria:
      - has_journal_entry: true
      - has_trade_breakdown: true
      - has_lessons_learned: true
  
  publication_rate:
    description: "Percentage of artifacts successfully published to public platforms"
    unit: "percentage"
    target: 90  # 90% publication rate
    aggregation: "percentage"
    tracking_frequency: "weekly"
    calculation: "published_artifacts / total_artifacts * 100"
    platforms:
      - github
      - website
      - social

# Additional Metrics
additional_metrics:
  artifact_types:
    description: "Breakdown of artifact types created"
    tracking:
      - repo_upgrades
      - blog_posts
      - devlogs
      - trading_journals
      - social_posts
      - demos
  
  publication_success_rate:
    description: "Success rate of publication attempts by platform"
    platforms:
      github:
        success_rate: 0.0
        total_attempts: 0
        successful: 0
        failed: 0
      website:
        success_rate: 0.0
        total_attempts: 0
        successful: 0
        failed: 0
      social:
        success_rate: 0.0
        total_attempts: 0
        successful: 0
        failed: 0
  
  weekly_artifact_trend:
    description: "Trend of artifacts created over time"
    period: "weekly"
    tracking_window: 12  # 12 weeks
  
  repo_health_score:
    description: "Overall health score of repositories (README quality, docs, etc.)"
    calculation: "weighted_average"
    factors:
      readme_quality: 0.4
      documentation_completeness: 0.3
      code_quality_indicators: 0.3

# Data Collection Points
data_collection:
  artifacts:
    source: "work_session.json"
    fields:
      - artifact_id
      - artifact_type
      - creation_date
      - publication_status
      - platforms_published
  
  repositories:
    source: "github_api + local_scan"
    fields:
      - repo_name
      - has_readme
      - readme_quality_score
      - last_updated
      - has_description
  
  trading_sessions:
    source: "trading_journals + money_ops"
    fields:
      - session_date
      - journal_entry_exists
      - trades_documented
      - lessons_learned
  
  publications:
    source: "PUBLISH_QUEUE + publication_logs"
    fields:
      - artifact_id
      - platform
      - publication_date
      - status
      - error_message

# Analytics Dashboard Configuration
dashboard_config:
  refresh_frequency: "daily"
  retention_period_days: 90
  
  widgets:
    - type: "line_chart"
      metric: "artifacts_per_week"
      title: "Artifacts Per Week Trend"
      period: "12_weeks"
    
    - type: "bar_chart"
      metric: "repos_with_clean_readmes"
      title: "Repos with Clean READMEs"
      period: "current"
    
    - type: "gauge"
      metric: "publication_rate"
      title: "Publication Rate"
      target: 90
      period: "current_month"
    
    - type: "table"
      metric: "trading_days_documented"
      title: "Trading Days Documented"
      period: "current_month"
    
    - type: "pie_chart"
      metric: "artifact_types"
      title: "Artifact Type Distribution"
      period: "current_month"

# Alert Thresholds
alert_thresholds:
  artifacts_per_week:
    warning: 1  # Below 2 artifacts
    critical: 0  # Zero artifacts
  
  publication_rate:
    warning: 75  # Below 75%
    critical: 50  # Below 50%
  
  repos_with_clean_readmes:
    warning: "no_growth"  # No new clean READMEs in 2 weeks
    critical: "degradation"  # READMEs being removed/degraded
  
  trading_days_documented:
    warning: 0.5  # Less than 50% of trading days documented
    critical: 0  # Zero trading days documented

